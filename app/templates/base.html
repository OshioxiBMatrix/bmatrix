<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}BountyMatrix - Tech & Electronics{% endblock %}</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#1e3a8a', // dark blue
                            dark: '#172554',
                        },
                        secondary: {
                            DEFAULT: '#f97316', // orange
                            light: '#fdba74',
                        },
                    },
                }
            }
        }
    </script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <style>
        .hidden {
            display: none;
        }
    </style>
    {% block extra_css %}{% endblock %}
</head>
<body class="min-h-screen flex flex-col bg-gray-50">
    <!-- Header -->
    {% include 'include/header.html' %}

    <!-- Main Content -->
    <main class="flex-grow">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    {% include 'include/footer.html' %}

    <!-- Global JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile menu toggle
            const mobileMenuButton = document.querySelector('[data-toggle="mobile-menu"]');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', function() {
                    mobileMenu.classList.toggle('hidden');
                });
            }
            
            // Dropdown menu toggle with delay
            const dropdownButton = document.querySelector('[data-toggle="dropdown-menu"]');
            const dropdownMenu = document.getElementById('dropdown-menu');
            
            let dropdownTimeout;
            
            if (dropdownButton && dropdownMenu) {
                dropdownButton.addEventListener('mouseover', function() {
                    clearTimeout(dropdownTimeout);
                    dropdownMenu.classList.remove('hidden');
                });
                
                dropdownButton.addEventListener('mouseout', function() {
                    dropdownTimeout = setTimeout(function() {
                        if (!dropdownMenu.matches(':hover')) {
                            dropdownMenu.classList.add('hidden');
                        }
                    }, 300);
                });
                
                dropdownMenu.addEventListener('mouseover', function() {
                    clearTimeout(dropdownTimeout);
                    dropdownMenu.classList.remove('hidden');
                });
                
                dropdownMenu.addEventListener('mouseout', function() {
                    dropdownTimeout = setTimeout(function() {
                        if (!dropdownButton.matches(':hover')) {
                            dropdownMenu.classList.add('hidden');
                        }
                    }, 300);
                });
            }
            
            // Language dropdown toggle with delay
            const languageButton = document.querySelector('[data-toggle="language-dropdown"]');
            const languageMenu = document.getElementById('language-menu');
            
            let languageTimeout;
            
            if (languageButton && languageMenu) {
                languageButton.addEventListener('mouseover', function() {
                    clearTimeout(languageTimeout);
                    languageMenu.classList.remove('hidden');
                });
                
                languageButton.addEventListener('mouseout', function() {
                    languageTimeout = setTimeout(function() {
                        if (!languageMenu.matches(':hover')) {
                            languageMenu.classList.add('hidden');
                        }
                    }, 300);
                });
                
                languageMenu.addEventListener('mouseover', function() {
                    clearTimeout(languageTimeout);
                    languageMenu.classList.remove('hidden');
                });
                
                languageMenu.addEventListener('mouseout', function() {
                    languageTimeout = setTimeout(function() {
                        if (!languageButton.matches(':hover')) {
                            languageMenu.classList.add('hidden');
                        }
                    }, 300);
                });
            }
            
            // User dropdown toggle with delay
            const userButton = document.querySelector('[data-toggle="user-dropdown"]');
            const userMenu = document.getElementById('user-menu');
            
            let userTimeout;
            
            if (userButton && userMenu) {
                userButton.addEventListener('mouseover', function() {
                    clearTimeout(userTimeout);
                    userMenu.classList.remove('hidden');
                });
                
                userButton.addEventListener('mouseout', function() {
                    userTimeout = setTimeout(function() {
                        if (!userMenu.matches(':hover')) {
                            userMenu.classList.add('hidden');
                        }
                    }, 300);
                });
                
                userMenu.addEventListener('mouseover', function() {
                    clearTimeout(userTimeout);
                    userMenu.classList.remove('hidden');
                });
                
                userMenu.addEventListener('mouseout', function() {
                    userTimeout = setTimeout(function() {
                        if (!userButton.matches(':hover')) {
                            userMenu.classList.add('hidden');
                        }
                    }, 300);
                });
            }
            
            // Mobile page dropdown
            const mobilePageButton = document.querySelector('[data-toggle="mobile-page-dropdown"]');
            const mobilePageMenu = document.getElementById('mobile-page-menu');
            
            if (mobilePageButton && mobilePageMenu) {
                mobilePageButton.addEventListener('click', function() {
                    mobilePageMenu.classList.toggle('hidden');
                    
                    // Toggle icon
                    const icon = mobilePageButton.querySelector('i');
                    if (icon) {
                        if (mobilePageMenu.classList.contains('hidden')) {
                            icon.classList.remove('fa-chevron-up');
                            icon.classList.add('fa-chevron-down');
                        } else {
                            icon.classList.remove('fa-chevron-down');
                            icon.classList.add('fa-chevron-up');
                        }
                    }
                });
            }
        });
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>
